<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CS109 Website</title>
  <script src="js/lib/d3.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">
  <link rel="stylesheet" href="css/d3.slider.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="container">

  <!-- TITLE -->
  <div class="row" id="header">
    <div class="col-md-12">
    <h1>Baby Names</h1>
    </div>
  </div>

  <!-- INTRO -->
  <div class="row">
    <div class="col-md-12">
      <h2>Intro</h2>
      <p>
        Cultural and societal changes are an undeniable influence on our lives, yet it is so difficult to accurately quantify and track these developments. The principle issue is identifying metrics that appropriately encapsulate such a complex and intractable set of phenomena. Using U.S. baby name and Census country-of-origin data, we seek to find an appropriate proxy for nationwide diversification. Due to the strong ties between one’s name and country of origin, ethnicity, and religion, we believe distribution of baby names over time to be powerful predictors of demographic trends.  After exploration and analysis of the given data as well as existing historical US demographics data, we ultimately decided to build a model to predict the percentage of foreign-born residents using name distributions as predictors.  Using this model, we aim to interpolate the corresponding intercensal data regarding percentage of foreign-born residents in each state population in every year from 1910 to 2014.
      </p>
    </div>
  </div>

  <!-- METHODS -->
  <div class="row">
    <div class="col-md-12">
      <h2>Exploring the Data</h2>
      <h3>Initial Exploration</h3>
      <p>
				The raw dataset we were given has a row for every name that has occurred in a given state and given year, for the 50 states and Washington, D.C., and for all years from 1910 to 2014.  The column values are corresponding state,  year, gender of those who were given the name, and the count of people given that name. At first blush, the level of personal detail on each of these babies is very low: in the best case we only know the birth year, state, and gender of an individual. As a result, any analysis reliant on race or ethnicity will need to be indirectly extracted from this data.
		  </p>
		  <p>
				Some useful summary statistics can nonetheless be gleaned from these preliminary data. The most popular boys’ and girls’ names of all time are Mary and James: 4,155,282 and 5,105,919 babies cumulatively since 1880, respectively. The most popular gender-ambiguous names change much more frequently, with the top spot going to Leslie in 1945 and Charlie in 2013. We defined a name as gender-ambiguous if its sex ratio was within 40:60 (i.e. no more than 10% away from 50-50 gender distribution). The difference in style between the most popular gender-ambiguous of 1945 and 2013 are emblematic of the increased preference towards individuality and “unique-sounding” names: the runners-up in 1945 were the traditionally-sounding Jackie, Jessie, Frankie, and Gerry. By 2013 these are replaced with Skyler, Dakota, Phoenix, and Justice. The name undergoing the greatest trend effect (i.e. the one with the largest contemporary increase since 1980) is Harper.
		  </p>
      <div class="container">
        <h2>Dynamic Pills</h2>
        <p>To make the tabs toggleable, add the data-toggle="pill" attribute to each link. Then add a .tab-pane class with a unique ID for every tab and wrap them inside a div element with class .tab-content.</p>
        <ul class="nav nav-pills">
          <li class="active"><a data-toggle="pill" href="#homer">Home</a></li>
          <li><a data-toggle="pill" href="#menu1r">Menu 1</a></li>
          <li><a data-toggle="pill" href="#menu2r">Menu 2</a></li>
          <li><a data-toggle="pill" href="#menu3r">Menu 3</a></li>
        </ul>
        <div class="tab-content">
          <div id="homer" class="tab-pane fade in active">
            <h3>HOME</h3>
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          </div>
          <div id="menu1r" class="tab-pane fade">
            <h3>Menu 1</h3>
            <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
          </div>
          <div id="menu2r" class="tab-pane fade">
            <h3>Menu 2</h3>
            <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
          </div>
          <div id="menu3r" class="tab-pane fade">
            <h3>Menu 3</h3>
            <p>Eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
          </div>
        </div>
      </div>
		  <p>
				To get some initial idea of the flow of name trends, we created two sets of stacked-area graphs. The graphs plotted the total number of occurrences of each name in each year normalized to that year’s U.S. population size, with number of occurrences on the y-axis and year on the x-axis. This normalization was critical in order to compare the relative share of babies to which a given name corresponds, rather than the absolute number (which is subject to distortion by population growth). The sets were divided by gender and the criterion for including a name on the graph.  The first set was only concerned with names that have been the most popular in a given year - for males, this was only 7 names, as there have only been 7 unique male names to be the most popular in a state in a given year; for females this was 10 unique names.  The second set of graphs instead took the top 5 names in each year, which turned out to be 25 unique names for males and 46 unique names for females.
		  </p>
		  <p>
				The graphs give us an idea of the speed with which name popularity can both increase and decrease, shown by the fluctuations in height of each name’s region over time.  Furthermore, these graphs showed continuity in popularity from year to year, indicating that name popularities are driven by factors that are both time sensitive but not entirely volatile.  This played a role in our decision to use name distributions to predict demographic trends.
		  </p>
        <figure class="figure">
          <img src="img/forest-pca.png" class="figure-img img-fluid rounded">
          <figcaption class="figure-caption">Figure 1. Plot of model score vs. number of PCA components .</figcaption>
        </figure>
      <p>
        Due to the high dimensionality of the data, we performed PCA, cross-validating number of components with model score as well as explained variance.  We eventually concluded that 17 was the optimal number of components for the transformation. We then trained different preliminary regression models to predict percentage of foreign-born residents in each state in each year, using only counts of each name in each state as predictors. We eventually selecting Random Forests for its high score on multiple train-test splits.  We cross-validated the number of trees in the forest with the model score, determining that 50 was the optimal number of estimators.
      </p>
    </div>
  </div>

  <!-- DATA -->
  <div class="row">
    <div class="col-md-12">
      <h2>Modeling</h2>
      <p>
        We started with a simple data frame that contained name counts for states in the US for every year since 1910. We converted this data frame to the predictors data frame. In the new data frame every column contains the count of every name in the original data frame for every decade in a given year.
      </p>
    </div>
  </div>

  <!-- RESULTS -->
  <div class="row">
    <div class="col-md-12">
      <h2>Results</h2>
      <p>
        In order to better visualize the data, Tableau Analytics were utilized (fig. 3). A light-to-dark blue gradient (whose range is 0–30%) colors each state according to the share of foreigners in the registered population for each year. Fig. 4 was instrumental for quantitatively comparing our predicting and test sets. This multi-state analysis (NY, CA, FL, TX) afforded more granularity than the state visualizations alone, for example in calculating the model’s predictive errors for each decade. To validate these observations, we looked to historical precedent to help qualitatively frame the data.
      </p>
      <p>
        The heatmaps indicate an overall decrease in foreigners from 1910–1970, with a sharp nationwide rebound post-1970. This roughly coincides with two important historical events in the history of U.S. immigration: the 1924 Johnson-Reed quota, severely limiting immigration to a select few groups of Europeans; and the 1965 Hart-Cellar Act effectively reversing the quota laws in place since the 20s. Demonstrates the confluence between the economic (the Depression in the 30’s), the military (WWII), and the political (immigration acts), and their role in affecting demographic data.
      </p>
      <p>
				Our calculated predictions can be classified along two principle dimensions: geographic and temporal.  This necessitates a multimedia approach to representing the data. In order to better visualize the results, Tableau Analytics were utilized (fig. 3). Annual nationwide heatmaps of our predictions were generated, allowing geographic comparison. Each of these heatmaps has been layered into a combined timeline, which best illustrates the time-varying aspect of the data.  A light-to-dark blue gradient was chosen, with extremes set at 0 and 30%. This gradient colors each state according to the share of foreigners in the registered population for each year. Fig. 4 was instrumental in quantitatively comparing our predictions and test sets. The multi-state analysis (NY, CA, FL, TX) afforded more granularity than the state visualizations alone, for example in calculating the model’s predictive errors for each decade. To validate these observations, we relied on historical precedent to help qualitatively frame the data.
      </p>
      <p>
				Some generalizations can be extracted from this long-term view. Overall, in terms of gross historical migration, the heatmaps indicate a decrease in immigrants from 1910–1970, with a sharp nationwide rebound post-1970.
		  </p>
		  <p>
				These trends roughly coincide with two important historical events in the history of U.S. immigration: the 1924 Johnson-Reed quota, severely limiting immigration to a select few groups of Europeans; and the 1965 Hart-Cellar Act effectively reversing the quota laws in place since the 20s. Demonstrates the confluence between the economic (the Depression in the 30’s), the military (WWII), and the political (immigration acts), and their role in affecting demographic data.
		  </p>
		  <p>
				Using the distribution of baby names per state in a given year as our predictor yields a rather close fit to the real data. We are excited about the powerful potential in state map visualizations, believe the interactive timeline slider juxtaposing heatmaps with scatter plots in an excellent way to concisely, yet comprehensively, represent our data.
		  </p>
		  <p>
				(Further Avenues of Exploration)
				We hope to expand our predictor’s detail by slicing foreign-born groups into specific regions and predicting these regional distributions. Incorporation of more detailed Census data would be helpful, doubling the number of test observations to score our prediction against.
		  </p>
    </div>
  </div>

  <!-- MAP VISUALIZATION -->
  <div class="row">
    <div class="col-md-6">
      <h2>Map Visualization</h2>
      <div id="map-area"></div>
      <div id="slider"></div>
    </div>
    <div class="col-md-6">
      <h4 id="line-title">Massachusetts</h2>
      <div id="line-area"></div>
    </div>
  </div>

  <!-- LINE VISUALIZATION -->
  <div class="row">

  </div>

  <!-- CONCLUSIONS -->
  <div class="row">
    <div class="col-md-12">
      <h2>Conclusions</h2>
      <p>
        The baseline model is promising; using the distribution of baby names per state in a given year as our predictor yields a rather close fit to the real data. We are excited about the powerful potential in state map visualizations, and seek to develop an interactive timeline slider juxtaposing multiple state images. We hope to expand our predictor’s detail by slicing foreign-born groups into specific regions and predicting these regional distributions. Incorporation of more detailed Census data (IPUMS) is necessary.
      </p>
    </div>
  </div>

  <!-- CITATIONS AND LINKS -->
  <div class="row">
    <div class="col-md-12">
      <h2>Citations and Links</h2>
      <dl class="row">
        <dt class="col-sm-3">Datasets</dt>
        <dd class="col-sm-9"><a href="https://www.kaggle.com/kaggle/us-baby-names">Baby names: Kaggle</a></dd>
        <dd class="col-sm-9 offset-sm-3"><a href="http://www.census.gov/population/www/documentation/twps0081/tables/tab14.csv">Foreigner demographic data: U.S. Census Bureau</a></dd>

        <dt class="col-sm-3">Works Referenced</dt>
        <dd class="col-sm-9">Barucca, Paolo, et al. "Cross-correlations of American baby names. "Proceedings of the National Academy of Sciences 112.26 (2015): 7943-7947.</dd>
        <dd class="col-sm-9 offset-sm-3">Twenge, Jean M., Emodish M. Abebe, and W. Keith Campbell. "Fitting In or Standing Out: Trends in American parents' choices for children’s names, 1880–2007." Social Psychological and Personality Science 1.1 (2010): 19-25.</dd>
      </dl>
    </div>
  </div>

</div>

<script src="js/lib/d3.slider.js"></script>
<script src="js/lib/topojson.v1.min.js"></script>
<script src="js/lib/queue.v1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js" integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js" integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK" crossorigin="anonymous"></script>
<script type="text/javascript" src="js/map.js"></script>
<script type="text/javascript" src="js/line.js"></script>
<script type="text/javascript" src="js/main.js"></script>
</body>
</html>
